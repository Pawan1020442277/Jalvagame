<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Live AI Prediction â€” WinGo_30S</title>
<style>
body{margin:0;padding:20px;background:#010308;color:#e5f6ff;font-family:"Inter",sans-serif;}
h1{color:#00ffb3;text-shadow:0 0 8px #7df0ff;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px;margin-top:16px;}
.card{background:rgba(10,20,30,0.85);border-radius:12px;padding:14px;box-shadow:0 0 10px rgba(0,255,180,0.2);}
.name{font-size:18px;font-weight:700;color:#fff;}
.badge{margin-top:6px;padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.1);font-weight:600;}
</style>
</head>
<body>
<h1>ðŸ”® AI Live Predictions â€” WinGo 30s</h1>
<div id="period">Period: â€”</div>
<div id="grid" class="grid"></div>
<script>
(async()=>{
  const grid=document.getElementById("grid");
  let current=null;
  function createCard(ai){
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <div class="name">${ai.name}</div>
      <div class="badge" id="size-${ai.id}">Size: â€”</div>
      <div class="badge" id="color-${ai.id}">Color: â€”</div>
    `;
    grid.appendChild(div);
  }
  async function updatePreds(){
    const res=await fetch("/api/predict-all");
    const j=await res.json();
    const now=new Date();
    const base=new Date(now.getFullYear(),now.getMonth(),now.getDate(),5,30,0);
    const elapsed=Math.floor((now-base)/1000);
    const next=Math.floor(elapsed/30)+1;
    const period=`${now.getFullYear()}${String(now.getMonth()+1).padStart(2,"0")}${String(now.getDate()).padStart(2,"0")}${String(next).padStart(5,"0")}`;
    document.getElementById("period").textContent="Period: "+period;
    grid.innerHTML="";
    j.AIs.forEach(ai=>{
      createCard(ai);
      document.getElementById(`size-${ai.id}`).textContent="Size: "+ai.last.size;
      document.getElementById(`color-${ai.id}`).textContent="Color: "+ai.last.color;
    });
  }
  updatePreds();
  setInterval(updatePreds,30000); // à¤¹à¤° 30 à¤¸à¥‡à¤•à¤‚à¤¡ à¤®à¥‡à¤‚ à¤¨à¤¯à¤¾ prediction
})();
</script>
</body>
</html>